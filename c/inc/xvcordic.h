// Xbaseband macro instructions

#ifndef __XVCORDIC_H__
#define __XVCORDIC_H__

#include "sig_utils.h"



#define OPCODE_DS_SHIFT (7)
#define OPCODE_DS_MASK (0xF)

#define OPCODE_OP_SHIFT (7+4)
#define OPCODE_OP_MASK (0xF)

#define OPCODE_RS1_SHIFT (7+4+4)
#define OPCODE_RS1_MASK (0x1F)

#define OPCODE_RS2_SHIFT (20)
#define OPCODE_RS2_MASK (0x1F)


#define ATAN(dst, src1, src2) asm(".word(" \
"(((((\"%0\"==\"t0\") &5) |((\"%0\"==\"t1\") &6) |((\"%0\"==\"t2\") &7) |((\"%0\"==\"s0\") &8) |((\"%0\"==\"s1\") &9) |((\"%0\"==\"a0\") &10)|((\"%0\"==\"a1\") &11)|((\"%0\"==\"a2\") &12)|((\"%0\"==\"a3\") &13)|((\"%0\"==\"a4\") &14)|((\"%0\"==\"a5\") &15)|((\"%0\"==\"a6\") &16)|((\"%0\"==\"a7\") &17)|((\"%0\"==\"s2\") &18)|((\"%0\"==\"s3\") &19)|((\"%0\"==\"s4\") &20)|((\"%0\"==\"s5\") &21)|((\"%0\"==\"s6\") &22)|((\"%0\"==\"s7\") &23)|((\"%0\"==\"s8\") &24)|((\"%0\"==\"s9\") &25)|((\"%0\"==\"s10\")&26)|((\"%0\"==\"s11\")&27)|((\"%0\"==\"t3\") &28)|((\"%0\"==\"t4\") &29)|((\"%0\"==\"t5\") &30)|((\"%0\"==\"t6\") &31))) << " _XSTR(OPCODE_DS_SHIFT) ") | " \
"(((((\"%1\"==\"t0\") &5) |((\"%1\"==\"t1\") &6) |((\"%1\"==\"t2\") &7) |((\"%1\"==\"s0\") &8) |((\"%1\"==\"s1\") &9) |((\"%1\"==\"a0\") &10)|((\"%1\"==\"a1\") &11)|((\"%1\"==\"a2\") &12)|((\"%1\"==\"a3\") &13)|((\"%1\"==\"a4\") &14)|((\"%1\"==\"a5\") &15)|((\"%1\"==\"a6\") &16)|((\"%1\"==\"a7\") &17)|((\"%1\"==\"s2\") &18)|((\"%1\"==\"s3\") &19)|((\"%1\"==\"s4\") &20)|((\"%1\"==\"s5\") &21)|((\"%1\"==\"s6\") &22)|((\"%1\"==\"s7\") &23)|((\"%1\"==\"s8\") &24)|((\"%1\"==\"s9\") &25)|((\"%1\"==\"s10\")&26)|((\"%1\"==\"s11\")&27)|((\"%1\"==\"t3\") &28)|((\"%1\"==\"t4\") &29)|((\"%1\"==\"t5\") &30)|((\"%1\"==\"t6\") &31))) << " _XSTR(OPCODE_RS1_SHIFT) " ) | " \
"(((((\"%2\"==\"t0\") &5) |((\"%2\"==\"t1\") &6) |((\"%2\"==\"t2\") &7) |((\"%2\"==\"s0\") &8) |((\"%2\"==\"s1\") &9) |((\"%2\"==\"a0\") &10)|((\"%2\"==\"a1\") &11)|((\"%2\"==\"a2\") &12)|((\"%2\"==\"a3\") &13)|((\"%2\"==\"a4\") &14)|((\"%2\"==\"a5\") &15)|((\"%2\"==\"a6\") &16)|((\"%2\"==\"a7\") &17)|((\"%2\"==\"s2\") &18)|((\"%2\"==\"s3\") &19)|((\"%2\"==\"s4\") &20)|((\"%2\"==\"s5\") &21)|((\"%2\"==\"s6\") &22)|((\"%2\"==\"s7\") &23)|((\"%2\"==\"s8\") &24)|((\"%2\"==\"s9\") &25)|((\"%2\"==\"s10\")&26)|((\"%2\"==\"s11\")&27)|((\"%2\"==\"t3\") &28)|((\"%2\"==\"t4\") &29)|((\"%2\"==\"t5\") &30)|((\"%2\"==\"t6\") &31))) << " _XSTR(OPCODE_RS2_SHIFT) " )  | (0x2b))" : "=r" (dst) : "r" (src1) , "r" (src2) )

#endif /* XVCORDIC */
